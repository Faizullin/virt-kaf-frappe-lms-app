{% extends "/templates/lms_addon_base.html" %}

{% block title %}Home{% endblock %}

{% block content %}

<!-- ***** Welcome Area Start ***** -->
<div class="welcome-area" id="welcome">

    <!-- ***** Header Text Start ***** -->
    <div class="header-text">
        <div class="container">
            <div class="row">
                <div class="left-text col-lg-6 offset-lg-3 col-md-12 col-sm-12 col-xs-12"
                    data-scroll-reveal="enter left move 30px over 0.6s after 0.4s">
                    <!-- <h1>Simple App that we <em>CREATE</em></h1>
                      <p>Lava <a href="#">HTML landing page</a> template is provided by <a href="#">TemplateMo</a>.
                         You can modify and use it for your commercial websites for free of charge. This template is last updated on 29 Oct 2019.</p> 
                      <a href="#about" class="main-button-slider">KNOW US BETTER</a> -->
                    <h1>Empower Your Future with <em>virt-Kaf</em></h1>
                    <p>Join thousands of learners globally and get access to interactive courses, world-class
                        instructors, and an international learning community.</p>
                    <a href="#features" class="main-button-slider">Explore Features</a>
                </div>
            </div>
        </div>
    </div>
    <!-- ***** Header Text End ***** -->
</div>
<!-- ***** Welcome Area End ***** -->

<!-- ***** Features Big Item Start ***** -->
<section class="section" id="features">
    <div class="container">
        <div class="row">
            <div class="col-lg-4 col-md-6 col-sm-12 col-xs-12"
                data-scroll-reveal="enter left move 30px over 0.6s after 0.4s">
                <div class="features-item">
                    <div class="features-icon">
                        <h2>01</h2>
                        <img src="/assets/lms_addon/m/assets/images/features-icon-1.png" alt="">
                        <h4>Interactive Lessons</h4>
                        <p>Learn through videos, quizzes, coding tasks, and simulations across different subjects and
                            grade levels.</p>
                        <!-- <a href="#testimonials" class="main-button">
                              Read More
                          </a> -->
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 col-sm-12 col-xs-12"
                data-scroll-reveal="enter bottom move 30px over 0.6s after 0.4s">
                <div class="features-item">
                    <div class="features-icon">
                        <h2>02</h2>
                        <img src="/assets/lms_addon/m/assets/images/features-icon-2.png" alt="">
                        <h4>Global Instructors</h4>
                        <p>Engage with mentors and teachers from top universities and companies around the world.</p>
                        <a href="/lms" class="main-button cursor-pointer">
                            Discover More
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 col-sm-12 col-xs-12"
                data-scroll-reveal="enter right move 30px over 0.6s after 0.4s">
                <div class="features-item">
                    <div class="features-icon">
                        <h2>03</h2>
                        <img src="/assets/lms_addon/m/assets/images/features-icon-3.png" alt="">

                        <h4>Personal Dashboard</h4>
                        <p>Track your achievements, manage deadlines, and access resources easily in one central place.
                        </p>
                        <!-- <a href="#testimonials" class="main-button">
                              More Detail
                          </a> -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- ***** Features Big Item End ***** -->

<div class="left-image-decor"></div>

<!-- ***** Features Big Item Start ***** -->
<section class="section" id="promotion">
    <div class="container">
        <div class="row">
            <div class="left-image col-lg-5 col-md-12 col-sm-12 mobile-bottom-fix-big"
                data-scroll-reveal="enter left move 30px over 0.6s after 0.4s">
                <!-- <img src="/assets/lms_addon/m/assets/images/left-image.png" class="rounded img-fluid d-block mx-auto"
                    alt="App"> -->
                <img src="/assets/lms_addon/m/assets/icons/home-global.svg" class="rounded img-fluid d-block mx-auto"
                    alt="App">
            </div>
            <div class="right-text offset-lg-1 col-lg-6 col-md-12 col-sm-12 mobile-bottom-fix">
                <ul>
                    <li data-scroll-reveal="enter right move 30px over 0.6s after 0.4s">
                        <img src="/assets/lms_addon/m/assets/images/about-icon-01.png" alt="">
                        <div class="text">
                            <h4>Personalized Learning Paths</h4>
                            <p>Learn at your own pace with curated courses that align with your personal and academic
                                goals.</p>

                        </div>
                    </li>
                    <li data-scroll-reveal="enter right move 30px over 0.6s after 0.5s">
                        <img src="/assets/lms_addon/m/assets/images/about-icon-02.png" alt="">
                        <div class="text">
                            <h4>Global Classroom</h4>
                            <p>Connect with peers and instructors from across the globe to share knowledge and
                                collaborate.</p>
                        </div>
                    </li>
                    <li data-scroll-reveal="enter right move 30px over 0.6s after 0.6s">
                        <img src="/assets/lms_addon/m/assets/images/about-icon-03.png" alt="">
                        <div class="text">
                            <h4>Skill-Based Curriculum</h4>
                            <p>Master the skills that matter most—whether you're preparing for exams or building a
                                career.</p>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</section>
<!-- ***** Features Big Item End ***** -->

<!-- ***** Global Map Start ***** -->

<section class="section countries-map section-spaced" id="global-map">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 offset-lg-2">
                <div class="center-heading">
                    <h2>Our Global Contributors</h2>
                    <p> </p>
                </div>
            </div>
        </div>
        <h2 class="text-center mb-5"></h2>
        <div class="row">
            <div class="col-md-5">
                <ul class="list-group countries-list">
                    <!-- Will be populated by JS -->
                </ul>
            </div>
            <div class="col-md-7">
                <div class="map-container">
                    <div class="map-wrapper">
                        <svg class="countries-svg" width="800" height="400"></svg>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ***** Global Map End ***** -->


<div class="right-image-decor"></div>

<!-- ***** Testimonials Starts ***** -->
<section class="section" id="testimonials">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 offset-lg-2">
                <div class="center-heading">
                    <h2>Hear From Our <em>Learners</em></h2>
                    <p>Real stories from students and educators who thrive with us.</p>
                </div>
            </div>
            <div class="col-lg-10 col-md-12 col-sm-12 mobile-bottom-fix-big"
                data-scroll-reveal="enter left move 30px over 0.6s after 0.4s">
                <div class="owl-carousel owl-theme">
                    <div class="item service-item">
                        <div class="author">
                            <i><img src="/assets/lms_addon/m/assets/images/testimonial-author-1.png"
                                    alt="Author One"></i>
                        </div>
                        <div class="testimonial-content">
                            <ul class="stars">
                                <li><i class="fa fa-star"></i></li>
                                <li><i class="fa fa-star"></i></li>
                                <li><i class="fa fa-star"></i></li>
                                <li><i class="fa fa-star"></i></li>
                                <li><i class="fa fa-star"></i></li>
                            </ul>
                            <h4>Sara Kim</h4>
                            <p>“Thanks to virt-kaf, I passed my coding bootcamp and landed an internship in Silicon
                                Valley!”</p>
                            <span>Software Engineering Student</span>
                        </div>
                    </div>
                    <div class="item service-item">
                        <div class="author">
                            <i><img src="/assets/lms_addon/m/assets/images/testimonial-author-1.png"
                                    alt="Second Author"></i>
                        </div>
                        <div class="testimonial-content">
                            <ul class="stars">
                                <li><i class="fa fa-star"></i></li>
                                <li><i class="fa fa-star"></i></li>
                                <li><i class="fa fa-star"></i></li>
                                <li><i class="fa fa-star"></i></li>
                                <li><i class="fa fa-star"></i></li>
                            </ul>
                            <h4>Dr. Omar Rafiq</h4>
                            <p>virt-kaf is a game changer. I’ve shared my entire lecture series with thousands of
                                students worldwide!”</p>
                            <span>Physics Professor</span>
                        </div>
                    </div>
                    <div class="item service-item">
                        <div class="author">
                            <i><img src="/assets/lms_addon/m/assets/images/testimonial-author-1.png"
                                    alt="Author Third"></i>
                        </div>
                        <div class="testimonial-content">
                            <ul class="stars">
                                <li><i class="fa fa-star"></i></li>
                                <li><i class="fa fa-star"></i></li>
                                <li><i class="fa fa-star"></i></li>
                            </ul>
                            <h4>George Tasa</h4>
                            <p>“Fusce rutrum in dolor sit amet lobortis. Ut at vehicula justo. Donec quam dolor,
                                congue a fringilla sed, maximus et urna.”</p>
                            <span>System Admin</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- ***** Testimonials Ends ***** -->
{% endblock %}

{% block footer %}
{% include "templates/includes/footer/lms_addon_contact_form_footer.html" %}
{% endblock %}

{% block head_extra %}
{{ include_style("home.bundle.css") }}
{% endblock %}

{% block scripts %}
<script src="https://d3js.org/d3.v7.min.js"></script>
<script>
    $(function () {
        const geoUrl = "/assets/lms_addon/m/assets/data/geo.json"; // update if needed
        const svg = d3.select(".countries-svg");
        const width = 800, height = 400;
        const projection = d3.geoMercator().scale(280).translate([width / 2 - 300, height / 2 + 200]);
        const path = d3.geoPath().projection(projection);

        const countryZones = [
            { title: "Russia", coords: [37.81699, 55.65674], IDENTIFIER_FIELD: "RUS" },
            { title: "Ukraine", coords: [30.47065, 50.48557], IDENTIFIER_FIELD: "UKR" },
            { title: "Slovakia", coords: [18.36851, 48.40507], IDENTIFIER_FIELD: "SVK" },
            { title: "Hungary", coords: [19.00052, 47.49790], IDENTIFIER_FIELD: "HUN" },
            { title: "Czechia", coords: [14.44309, 50.06473], IDENTIFIER_FIELD: "CZE" },
            { title: "Kazakhstan", coords: [71.57935, 51.17255], IDENTIFIER_FIELD: "KAZ" }
        ];

        const countryZonesPath = [
            { from: "KAZ", to: "RUS" },
            { from: "RUS", to: "UKR" },
            { from: "UKR", to: "SVK" },
            { from: "SVK", to: "CZE" },
            { from: "SVK", to: "HUN" }
        ];

        // Add countries to the left list
        countryZones.forEach(country => {
            $('.countries-list').append(`
            <li class="list-group-item" data-country-target-key="${country.IDENTIFIER_FIELD}">
                ${country.title}
            </li>
        `);
        });

        $.getJSON(geoUrl, function (data) {
            const countryKeys = countryZones.map(z => z.IDENTIFIER_FIELD);
            const zonesDict = Object.fromEntries(countryZones.map(z => [z.IDENTIFIER_FIELD, z]));

            svg.selectAll(".region")
                .data(data.features)
                .enter()
                .append("path")
                .attr("class", d => countryKeys.includes(d.properties.adm0_a3) ? "region selected" : "region")
                .attr("d", path)
                .attr("data-country-key", d => d.properties.adm0_a3);

            const lines = countryZonesPath.map(p => {
                return {
                    fromCoords: zonesDict[p.from]?.coords,
                    toCoords: zonesDict[p.to]?.coords
                };
            }).filter(line => line.fromCoords && line.toCoords);

            svg.selectAll(".connector-line")
                .data(lines)
                .enter()
                .append("line")
                .attr("class", "connector-line")
                .attr("x1", d => projection(d.fromCoords)[0])
                .attr("y1", d => projection(d.fromCoords)[1])
                .attr("x2", d => projection(d.toCoords)[0])
                .attr("y2", d => projection(d.toCoords)[1])
                .attr("stroke-width", 2);
        });

        // Hover map
        $(document).on("mouseenter", "[data-country-target-key]", function () {
            const key = $(this).data("country-target-key");
            $(`.region[data-country-key='${key}']`).addClass("highlighted");
            $(this).addClass("highlighted");
        });

        $(document).on("mouseleave", "[data-country-target-key]", function () {
            const key = $(this).data("country-target-key");
            $(`.region[data-country-key='${key}']`).removeClass("highlighted");
            $(this).removeClass("highlighted");
        });

        // Hover list
        $(document).on("mouseenter", ".region", function () {
            const key = $(this).data("country-key");
            $(`.countries-list [data-country-target-key='${key}']`).addClass("highlighted");
        });

        $(document).on("mouseleave", ".region", function () {
            const key = $(this).data("country-key");
            $(`.countries-list [data-country-target-key='${key}']`).removeClass("highlighted");
        });
    });
</script>
{% endblock %}